- 页面布局，**panel** 就是面板中的内容。

  ```html
  <div class="panel-wrp">
    <Panel />
  </div>
  ```

- 下面是 **vue3** 写法 ，主要对点击空白区域，控制面板弹出关闭的操作，主要用到的方法 <font color="red">Element: closest()</font>，可以通过 **visible** 对面板的弹出动画做切换。

  ```ts
  import { ref, watch, unref } from "vue";
  const props = withDefaults(defineProps<{ visible: boolean }>(), {
    visible: false,
  });
  const visible = ref<boolean>(props.visible);

  /**
   * 事件添加&移除
   */
  watch(
    () => props.visible,
    (val) => {
      visible.value = val;
      if (val) {
        // 当面板打开时，监听上下文的点击事件
        document.addEventListener("click", autoClose);
      } else {
        // 当面板关闭后，移除监听上下文的点击事件
        document.removeEventListener("click", autoClose);
      }
    }
  );

  /**
   * 点击面板外的区域关闭面板
   * @param evt
   */
  const autoClose = (evt: MouseEvent) => {
    const el: Element = evt.target as Element;
    const parent: Element | null = el.closest(".panel-wrp");
    if (!parent) {
      visible.value = false;
      emits("update:visible", unref(visible));
    }
  };
  ```
